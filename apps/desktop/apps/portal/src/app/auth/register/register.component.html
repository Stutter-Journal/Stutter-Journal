<div class="relative min-h-screen bg-[var(--app-bg)]">
  <div
    class="pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(17,24,39,0.08),transparent_35%),radial-gradient(circle_at_80%_0%,rgba(59,130,246,0.1),transparent_30%)]"
  ></div>
  <div
    class="relative mx-auto flex min-h-screen w-full max-w-4xl flex-col items-center justify-center px-4 py-12"
  >
    <lib-card class="w-full max-w-xl">
      <div cardHeader class="flex flex-col gap-1">
        <span class="text-xs uppercase tracking-[0.3em] text-neutral-400"
          >Portal access</span
        >
        <span class="text-lg font-semibold text-neutral-900"
          >Create your account</span
        >
      </div>
      <div cardBody class="space-y-6">
        <p class="text-sm text-neutral-600 text-center">
          Start a secure workspace for your care team.
        </p>
        <form class="space-y-5" [formGroup]="form" (ngSubmit)="onSubmit()">
          <div class="grid gap-4 sm:grid-cols-2">
            <lib-form-field
              [label]="'First name'"
              [hint]="'As it appears on records.'"
              [error]="firstNameError"
              [fieldId]="firstNameId"
              [required]="true"
            >
              <input
                formFieldControl
                type="text"
                autocomplete="given-name"
                [id]="firstNameId"
                [attr.aria-describedby]="firstNameDescribedBy"
                formControlName="firstName"
                class="w-full bg-transparent text-sm text-neutral-900 placeholder:text-neutral-400 focus:outline-none"
                placeholder="Avery"
              />
            </lib-form-field>

            <lib-form-field
              [label]="'Last name'"
              [hint]="'For team visibility.'"
              [error]="lastNameError"
              [fieldId]="lastNameId"
              [required]="true"
            >
              <input
                formFieldControl
                type="text"
                autocomplete="family-name"
                [id]="lastNameId"
                [attr.aria-describedby]="lastNameDescribedBy"
                formControlName="lastName"
                class="w-full bg-transparent text-sm text-neutral-900 placeholder:text-neutral-400 focus:outline-none"
                placeholder="Flores"
              />
            </lib-form-field>
          </div>

          <lib-form-field
            [label]="'Work email'"
            [hint]="'Use your clinic email.'"
            [error]="emailError"
            [fieldId]="emailId"
            [required]="true"
          >
            <input
              formFieldControl
              type="email"
              autocomplete="email"
              [id]="emailId"
              [attr.aria-describedby]="emailDescribedBy"
              formControlName="email"
              class="w-full bg-transparent text-sm text-neutral-900 placeholder:text-neutral-400 focus:outline-none"
              placeholder="you@clinic.com"
            />
          </lib-form-field>

          <lib-form-field
            [label]="'Create password'"
            [hint]="'Use at least 8 characters.'"
            [error]="passwordError"
            [fieldId]="passwordId"
            [required]="true"
          >
            <input
              formFieldControl
              type="password"
              autocomplete="new-password"
              [id]="passwordId"
              [attr.aria-describedby]="passwordDescribedBy"
              formControlName="password"
              class="w-full bg-transparent text-sm text-neutral-900 placeholder:text-neutral-400 focus:outline-none"
              placeholder="Create a password"
            />
          </lib-form-field>

          <div
            *ngIf="formError"
            class="rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700"
            role="alert"
          >
            {{ formError }}
          </div>

          <lib-button
            [type]="'submit'"
            [variant]="'primary'"
            [size]="'lg'"
            [loading]="loading"
            [disabled]="loading"
            class="w-full"
          >
            Create account
          </lib-button>
        </form>

        <p class="text-center text-sm text-neutral-600">
          Already have access?
          <a
            class="font-medium text-neutral-900 underline"
            routerLink="/auth/login"
          >
            Sign in
          </a>
        </p>
      </div>
    </lib-card>
  </div>
</div>

<form (ngSubmit)="submit()" [formGroup]="form" class="p-6 sm:p-7">
  <div class="space-y-5">
    <!-- Full name -->
    <div class="space-y-2">
      <label class="block text-sm font-medium text-slate-800 dark:text-slate-200" for="fullName">
        Full name
      </label>

      <span class="p-input-icon-left w-full">
        <i class="pi pi-user text-slate-400"></i>
        <input
          [attr.aria-describedby]="(form.get('fullName')?.touched && form.get('fullName')?.invalid) ? 'name-error' : null"
          [attr.aria-invalid]="form.get('fullName')?.touched && form.get('fullName')?.invalid ? 'true' : 'false'"
          autocomplete="name"
          class="w-full"
          formControlName="fullName"
          id="fullName"
          pInputText
          placeholder="Alex Smith"
          type="text"
        />
      </span>

      @if (form.get('fullName')?.touched && form.get('fullName')?.invalid) {
        <small class="block text-xs text-red-600 dark:text-red-400" id="name-error">
          Name is required.
        </small>
      }
    </div>

    <!-- Work email -->
    <div class="space-y-2">
      <label class="block text-sm font-medium text-slate-800 dark:text-slate-200" for="reg-email">
        Work email
      </label>

      <span class="p-input-icon-left w-full">
        <i class="pi pi-envelope text-slate-400"></i>
        <input
          [attr.aria-describedby]="(form.get('email')?.touched && form.get('email')?.invalid) ? 'email-error' : null"
          [attr.aria-invalid]="form.get('email')?.touched && form.get('email')?.invalid ? 'true' : 'false'"
          autocomplete="email"
          class="w-full"
          formControlName="email"
          id="reg-email"
          pInputText
          placeholder="you@clinic.com"
          type="email"
        />
      </span>

      @if (form.get('email')?.touched && form.get('email')?.invalid) {
        <small class="block text-xs text-red-600 dark:text-red-400" id="email-error">
          Enter a valid email address.
        </small>
      }
    </div>

    <!-- Password -->
    <div class="space-y-2">
      <label class="block text-sm font-medium text-slate-800 dark:text-slate-200" for="reg-password">
        Password
      </label>

      <div class="relative">
        <span class="pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-slate-400">
          <i class="pi pi-lock"></i>
        </span>

        <p-password
          [attr.aria-describedby]="(form.get('password')?.touched && form.get('password')?.invalid) ? 'password-error' : null"
          [attr.aria-invalid]="form.get('password')?.touched && form.get('password')?.invalid ? 'true' : 'false'"
          [feedback]="true"
          [inputStyle]="{ width: '100%' }"
          [style]=" { width: '100%' } "
          [toggleMask]="true"
          formControlName="password"
          id="reg-password"
          placeholder="At least 8 characters"
        ></p-password>
      </div>

      @if (form.get('password')?.touched && form.get('password')?.invalid) {
        <small class="block text-xs text-red-600 dark:text-red-400" id="password-error">
          Minimum 8 characters.
        </small>
      }
    </div>

    <!-- Terms -->
    <div
      class="flex items-start gap-3 rounded-xl bg-white/50 dark:bg-slate-800/30 ring-1 ring-slate-200/70 dark:ring-slate-700/60 p-3">
      <p-checkbox [binary]="true" formControlName="accept" inputId="accept"></p-checkbox>
      <label class="text-sm text-slate-700 dark:text-slate-300 leading-5 select-none" for="accept">
        I agree to the
        <a class="underline underline-offset-4 hover:text-slate-900 dark:hover:text-white" href="#">Terms</a>
        and
        <a class="underline underline-offset-4 hover:text-slate-900 dark:hover:text-white" href="#">Privacy Policy</a>.
      </label>
    </div>

    <!-- Submit -->
    <p-button
      [disabled]="form.invalid"
      icon="pi pi-user-plus"
      label="Create account"
      styleClass="w-full"
      type="submit"
    ></p-button>

    <div class="pt-2 text-center text-sm text-slate-600 dark:text-slate-300">
      Already have an account?
      <a class="font-medium text-slate-800 hover:text-slate-950 dark:text-white underline underline-offset-4" href="#">
        Sign in
      </a>
    </div>
  </div>
</form>

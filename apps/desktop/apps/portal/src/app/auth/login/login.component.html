<div class="relative min-h-screen bg-[var(--app-bg)]">
  <div
    class="pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(17,24,39,0.08),transparent_35%),radial-gradient(circle_at_80%_0%,rgba(59,130,246,0.1),transparent_30%)]"
  ></div>
  <div
    class="relative mx-auto flex min-h-screen w-full max-w-4xl flex-col items-center justify-center px-4 py-12"
  >
    <lib-card class="w-full max-w-xl">
      <div cardHeader class="flex flex-col gap-1">
        <span class="text-xs uppercase tracking-[0.3em] text-neutral-400"
          >Portal access</span
        >
        <span class="text-lg font-semibold text-neutral-900">Welcome back</span>
      </div>
      <div cardBody class="space-y-6">
        <p class="text-sm text-neutral-600 text-center">
          Sign in to continue patient care coordination.
        </p>
        <form class="space-y-5" [formGroup]="form" (ngSubmit)="onSubmit()">
          <lib-form-field
            [label]="'Email address'"
            [hint]="'Use your work email.'"
            [error]="emailError"
            [fieldId]="emailId"
            [required]="true"
          >
            <input
              formFieldControl
              type="email"
              autocomplete="email"
              [id]="emailId"
              [attr.aria-describedby]="emailDescribedBy"
              formControlName="email"
              class="w-full bg-transparent text-sm text-neutral-900 placeholder:text-neutral-400 focus:outline-none"
              placeholder="you@clinic.com"
            />
          </lib-form-field>

          <lib-form-field
            [label]="'Password'"
            [hint]="'At least 8 characters.'"
            [error]="passwordError"
            [fieldId]="passwordId"
            [required]="true"
          >
            <input
              formFieldControl
              type="password"
              autocomplete="current-password"
              [id]="passwordId"
              [attr.aria-describedby]="passwordDescribedBy"
              formControlName="password"
              class="w-full bg-transparent text-sm text-neutral-900 placeholder:text-neutral-400 focus:outline-none"
              placeholder="Enter your password"
            />
          </lib-form-field>

          @if (formError) {
            <div
              class="rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700"
              role="alert"
            >
              {{ formError }}
            </div>
          }

          <lib-button
            [type]="'submit'"
            [variant]="'primary'"
            [size]="'lg'"
            [loading]="loading"
            [disabled]="loading"
            class="w-full"
          >
            Sign in
          </lib-button>
        </form>

        <p class="text-center text-sm text-neutral-600">
          New to the portal?
          <a
            class="font-medium text-neutral-900 underline"
            routerLink="/auth/register"
          >
            Create an account
          </a>
        </p>
      </div>
    </lib-card>
  </div>
</div>
